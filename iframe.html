%{
    #include <stdio.h>
    int lines = 0, spaces = 0, tabs = 0, meta = 0, others = 0;
    %}
    
    
    
    \n      { lines++; }
    " "     { spaces++; }
    "\t"    { tabs++; }
    [!@#$%^&*()_+=]  { meta++; }
    .       { others++; }
    




    [a-zA-Z_][a-zA-Z0-9_]*   { printf("Valid Identifier: %s\n", yytext); }
    
    .  ;
    



    [0-9]+              { printf("Integer: %s\n", yytext); }
    [0-9]+"."[0-9]+     { printf("Float: %s\n", yytext); }
    
    .  ;
    




    "+"|"-"|"*"|"/"|"="     { printf("Operator: %s\n", yytext); }
    "(" | ")" | "{" | "}" | ";" | ","  { printf("Separator: %s\n", yytext); }
    "int"|"float"|"char"|"return"|"if"|"else"|"while" { printf("Keyword: %s\n", yytext); }
    [a-zA-Z_][a-zA-Z0-9_]*  { printf("Identifier: %s\n", yytext); }
    
    .   ;
    





    %{
    #include <stdio.h>
    int char_count = 0, word_count = 0, space_count = 0;
    %}
    
    %option noyywrap
    
    %%
    
    [ \t\n]   { space_count++; }
    \w+       { word_count++; }
    .         { char_count++; }
    
    %%
    
    int main() {
        FILE *file = fopen("input.txt", "r");  
        if (!file) {
            printf("Error opening file!\n");
            return 1;
        }
        
        yyin = file;
        yylex();
    
        printf("Total Characters: %d\n", char_count);
        printf("Total Words: %d\n", word_count);
        printf("Total White Spaces: %d\n", space_count);
    
        fclose(file);
        return 0;
    }
    
    int yywrap() { return 1; }
    